<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=375, initial-scale=1.0" />
  <title>Starâ€¯Wars IntroÂ â€¢ Slideâ€‘toâ€‘Unlock</title>

  <!-- jQueryÂ UI theme (needed for .draggable) -->
  <link rel="stylesheet"
        href="https://code.jquery.com/ui/1.13.3/themes/base/jquery-ui.css?v=1" />

  <style>
  :root{
    --logo-size:     300px;
    --well-width:      80%;
    --slider-w:  clamp(40px, 22vw, 80px);
    --slider-h:  calc(var(--slider-w)*.65);
    --unlock-fs: clamp(20px, 6vw, 18px);
  }

  *,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
  body{
    min-height:100vh;
    display:flex;justify-content:center;align-items:center;
    background:#222;font-family:Arial,Helvetica,sans-serif;
  }

  .phone{
    width:375px;height:667px;
    border:10px solid #000;border-radius:40px;
    box-shadow:0 0 30px rgba(0,0,0,.5);
    position:relative;overflow:hidden;
    background:url('https://raw.githubusercontent.com/concussed8/Nurse_Resource_App2/main/Images/stars-bg.jpg?v=1')
              no-repeat center top/cover;
  }
  @media(max-width:400px){
    .phone{width:100vw;height:100vh;border:none;border-radius:0}
  }

  .fade{position:absolute;inset:0;
        background-image:linear-gradient(0deg,transparent,black 125%);
        z-index:1}

  #far{
    position:absolute;
    top:50%; left:50%; transform:translate(-50%,-50%);
    font:20px/1.5 "FranklinGothicBookRegular",sans-serif;
    color:rgb(75,213,238);
    white-space: nowrap;
    text-align:center;
    opacity:0; z-index:2;
    animation:farFade 11s linear 3s forwards;
  }
  @keyframes farFade{0%,100%{opacity:0}16%,84%{opacity:1}}

  #stage{
    position:absolute;top:50%;left:50%;
    transform:translate(-50%,-50%);
    perspective:1000px;z-index:2;
  }

  #stage img{
    position:absolute;top:50%;left:50%;
    width:var(--logo-size);
    transform-origin:center;
    opacity:0;
    animation:logo 11s ease-in 14s forwards;
  }

  @keyframes logo{
    0%   {transform:translate(-50%,-50%) translateZ(0); opacity:0;}
    .1%  {transform:translate(-50%,-50%) translateZ(0); opacity:1;}
    37%  {transform:translate(-50%,-50%) translateZ(0); opacity:1;}
    70%  {transform:translate(-50%,-50%) translateZ(-50000px); opacity:1;}
    100% {transform:translate(-50%,-50%) translateZ(-100000px); opacity:0;}
  }

  .star-wars{
    position:absolute;top:-555px;padding-top:1450px;
    width:350%;left:50%;transform:translateX(-50%);
    height:800px;color:#feda4a;font-size:500%;font-weight:600;
    letter-spacing:6px;line-height:150%;perspective:400px;
    text-align:justify;z-index:2;
  }
  .crawl{position:relative;top:99999px;transform-origin:50% 100%;
         animation:crawl 18s linear 18s forwards}
  .crawl>.title{font-size:90%;text-align:center}
  .crawl>.title h1{margin:0 0 100px;text-transform:uppercase}
  @keyframes crawl{
    0%{top:-100px;transform:rotateX(20deg) translateZ(0)}
    100%{top:-6000px;transform:rotateX(25deg) translateZ(-2500px)}
  }

  #well{
    width: var(--well-width);
    max-width: 320px;
    position: absolute;
    bottom: 4vh;
    left: 50%;
    transform: translateX(-50%);
    padding: 0.9rem 1.2rem 1.3rem;
    border-radius: 30px;
    background: linear-gradient(#010101 0%, #181818 100%);
    border: 2px solid #454545;
    overflow: hidden;
    user-select: none;
    z-index: 3;
    opacity: 0;
    animation: wellIn 0.5s ease 25s forwards;
  }

  @keyframes wellIn{ to{ opacity: 1; } }

  #well h2{
    display:flex;
    align-items:center;
    justify-content:center;
    font:300 var(--unlock-fs)/1 "Helvetica Neue",Helvetica,Arial,sans-serif;
    white-space:nowrap;
    background:linear-gradient(90deg,#4d4d4d 0%,#4d4d4d 40%,#fff 50%,#4d4d4d 60%,#4d4d4d 100%);
    background-clip:text;-webkit-background-clip:text;color:transparent;
    -webkit-text-fill-color:transparent;
    animation:shine 5s linear infinite;
  }
  @keyframes shine{0%{background-position:-720px 0}100%{background-position:720px 0}}

  #slider{
    width:var(--slider-w);height:var(--slider-h);
    background:url("https://raw.githubusercontent.com/concussed8/Nurse_Resource_App2/main/Images/arrow.png?v=1")
             no-repeat center/contain;
    flex:0 0 auto;
    cursor:pointer;
  }
  </style>
</head>
<body>
  <div class="phone">
    <p id="far">
      Health Sciences North <br> in Sudbury, Ontarioâ€¦
    </p>

    <div id="stage">
      <img src="https://raw.githubusercontent.com/concussed8/Nurse_Resource_App2/main/Images/logo%20fade.png?v=1">
      <div class="fade"></div>
    </div>

    <section class="star-wars">
      <div class="crawl">
        <div class="title">
          <p>Critical Care Services Ontario</p>
          <h1>Regional Critical Care Education</h1>
        </div>
        <p>It is a period of civil war. Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire.</p>
        <p>During the battle, Rebel spies managed to steal secret plans to the Empireâ€™s ultimate weapon, the DEATHÂ STAR, an armored space station with enough power to destroy an entire planet.</p>
        <p>Pursued by the Empireâ€™s sinister agents, PrincessÂ Leia races home aboard her starship, custodian of the stolen plans that can save her people and restore freedom to the galaxyâ€¦.</p>
      </div>
    </section>

    <div id="well">
      <h2><strong id="slider"></strong><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slide to enter</span></h2>
    </div>
  </div>

  <!-- ===== Audio ===== -->
<audio id="star-wars-sound" preload="auto" playsinline>
  <source src="https://raw.githubusercontent.com/concussed8/Nurse_Resource_App2/main/Sounds/Star%20Wars.mp3?v=1" type="audio/mpeg" />
</audio>

<!-- ===== Scripts ===== -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js?v=1"></script>
<script src="https://code.jquery.com/ui/1.13.3/jquery-ui.min.js?v=2"></script>
<script>
  function playAudio() {
    const audio = document.getElementById('star-wars-sound');
    if (audio) {
      audio.play()
        .then(() => console.log("âœ… Audio played"))
        .catch(e => console.warn("âŒ Audio failed:", e));
    }
    document.removeEventListener('click', playAudio);
  }

  // Attempt to auto-play when the animation starts
  const logoImg = document.querySelector('#stage img');
  if (logoImg) {
    logoImg.addEventListener('animationstart', () => {
      console.log("ðŸŽ¬ Animation started");
      playAudio();
    });
  }

  // Backup trigger for browsers that block auto-play until user gesture
  document.addEventListener('click', playAudio);

  // Slide-to-unlock drag logic
  $(function () {
    const $slider = $('#slider'),
          $well = $('#well');

    $slider.draggable({
      axis: 'x',
      containment: 'parent',
      drag: (_, ui) => {
        if (ui.position.left > ($well.width() * 0.55)) {
          $well.fadeOut();
        }
      },
      stop: (_, ui) => {
        if (ui.position.left < ($well.width() * 0.55)) {
          $slider.animate({ left: 0 });
        }
      }
    });

    // Touch support for mobile
    const el = $slider[0];
    el.addEventListener('touchmove', e => {
      e.preventDefault();
      const t = e.touches[0];
      const cur = t.pageX - el.offsetLeft - parseFloat(getComputedStyle(el).width) / 2;
      if (cur <= 0) return;
      if (cur > ($well.width() * 0.55)) $well.fadeOut();
      el.style.webkitTransform = `translateX(${cur}px)`;
    }, { passive: false });

    el.addEventListener('touchend', () => {
      el.style.webkitTransition = '-webkit-transform .3s ease-in';
      el.addEventListener('webkitTransitionEnd', () => {
        el.style.webkitTransition = 'none';
      }, { once: true });
      el.style.webkitTransform = 'translateX(0)';
    });
  });
</script>

</body>
</html>
